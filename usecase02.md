===============================================================================
Use Case Name: Upload Photo to Campus Map
ID: UC-1
Importance Level: High
Primary Actor: 인증된 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 위치·시간 정보가 정확한 사진을 업로드하고 공유하고 싶다.
- 시스템 관리자: 부적절한 사진과 과도한 업로드를 차단하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
교내 구성원이 HEIC 또는 JPG 사진을 업로드하면 시스템이 JPG 변환, 메타데이터(날짜·시간·위치) 추출,
일일 업로드 제한(50장) 및 캠퍼스 내부 위치 여부를 검증하여 서버에 저장한다.
-------------------------------------------------------------------------------
Trigger:
사용자가 앱 메뉴에서 「사진 업로드」를 선택한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 인증된 교내 구성원
Include: Verify Authentication, Check Campus Location
Extend: Handle Conversion Error, Handle Upload Failure
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 사진 업로드 기능을 실행한다.  
2. 시스템이 사용자 인증을 확인한다.  
3. 시스템이 GPS로 캠퍼스 내부 위치임을 확인한다.  
4. 시스템이 사진 선택/촬영을 요청한다.  
5. 사용자가 사진을 제공한다.  
6. 시스템이 파일 형식을 분석한다.  
   6.1 HEIC이면 JPG로 변환한다(SF-1).  
7. 시스템이 날짜·시간·GPS 좌표를 추출한다.  
8. 시스템이 일일 업로드 수(50장 미만)를 확인한다.  
9. 시스템이 사진과 메타데이터를 서버로 전송한다.  
10. 서버가 사진을 저장하고 업로드 수를 증가시킨다.  
11. 시스템이 성공 메시지를 표시한다.  
-------------------------------------------------------------------------------
Sub Flows:
SF-1 Convert HEIC to JPG  
  a. 시스템이 변환 라이브러리를 호출한다.  
  b. 변환 성공 시 JPG 파일을 반환한다.  
  c. 실패 시 Handle Conversion Error로 분기한다.  
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 인증 실패 → 「로그인 필요」 메시지 후 중단.  
AF-2 캠퍼스 외 위치 → 「캠퍼스 내에서만 업로드 가능」 메시지 후 중단.  
AF-3 업로드 한도 초과 → 「오늘 한도 초과」 메시지 후 중단.  
AF-4 변환 오류 → 「이미지 변환 실패」 메시지 후 중단.  
AF-5 업로드 실패 → 2회 재시도 후 실패 시 Handle Upload Failure 분기.  
-------------------------------------------------------------------------------
Extensions:
Handle Conversion Error: 오류 로그 작성 후 재시도/취소 옵션 제공.  
Handle Upload Failure: 「업로드 실패, 다시 시도?」 메시지 후 재시도 선택 시 9단계로 복귀.  
===============================================================================


===============================================================================
Use Case Name: View Photos on Campus Map
ID: UC-2
Importance Level: Medium
Primary Actor: 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 시간대·추천·댓글 기준으로 사진을 탐색하고 싶다.
- 시스템 관리자: 공개 정책과 위치 정확도를 보장하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 지도에서 특정 구역 또는 시간대를 선택하여 공개된 사진을
추천순·댓글순 등으로 정렬해 본다.
-------------------------------------------------------------------------------
Trigger:
사용자가 지도 화면을 열고 필터/정렬 옵션을 선택한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 교내 구성원
Include: Load Photo Metadata
Extend: Handle Filter Error
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 지도 화면을 연다.  
2. 시스템이 현재 위치를 기준으로 주변 핀을 표시한다.  
3. 사용자가 구역·시간대·정렬 옵션(추천순/댓글순)을 설정한다.  
4. 시스템이 조건에 맞는 사진 목록을 DB에서 조회한다.  
5. 시스템이 사진 썸네일과 메타데이터를 지도에 뿌린다.  
6. 사용자가 특정 사진을 터치하면 상세 정보를 보여 준다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 필터 조건 오류 → 기본값(추천순)으로 재조회 후 알림.  
AF-2 사진 없음 → 「조건에 맞는 사진이 없습니다」 알림 표시.  
-------------------------------------------------------------------------------
Extensions:
Handle Filter Error: 잘못된 필터 입력 시 기본 옵션으로 자동 전환.  
===============================================================================


===============================================================================
Use Case Name: Recommend Photo
ID: UC-3
Importance Level: Medium
Primary Actor: 인증된 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 마음에 드는 사진에 추천을 남기고 싶다.
- 사진 업로더: 자신의 사진 반응을 확인하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 사진 상세 화면에서 추천 버튼을 눌러 해당 사진의 추천 수를 1 증가시킨다.
-------------------------------------------------------------------------------
Trigger:
사용자가 사진 상세 화면에서 「추천」 아이콘을 터치한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 인증된 교내 구성원
Include: Verify Authentication
Extend: Prevent Duplicate Recommendation
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 추천 아이콘을 터치한다.  
2. 시스템이 사용자 인증 상태를 확인한다.  
3. 시스템이 해당 사용자가 이 사진에 이미 추천했는지 검사한다.  
4. 추천 기록이 없으면 추천 수를 1 증가시키고 DB에 기록한다.  
5. UI에 갱신된 추천 수를 표시한다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 중복 추천 시도 → 「이미 추천했습니다」 알림 후 종료.  
AF-2 인증 만료 → 로그인 화면으로 리다이렉트.  
-------------------------------------------------------------------------------
Extensions:
Prevent Duplicate Recommendation: 중복 추천 요청 차단.  
===============================================================================


===============================================================================
Use Case Name: Comment on Photo
ID: UC-4
Importance Level: Medium
Primary Actor: 인증된 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 사진에 의견을 남기고 소통하고 싶다.
- 시스템 관리자: 부적절한 댓글을 필터링하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 사진에 댓글 또는 대댓글을 작성해 커뮤니케이션한다.
-------------------------------------------------------------------------------
Trigger:
사용자가 사진 상세 화면에서 「댓글 작성」을 선택한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 인증된 교내 구성원
Include: Verify Authentication, Content Filter
Extend: Handle Profanity, Handle Spam
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 댓글 입력란에 내용을 작성한다.  
2. 시스템이 욕설·금칙어 필터링을 수행한다.  
3. 시스템이 댓글을 DB에 저장하고 UI에 즉시 표시한다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 금칙어 포함 → 「부적절한 표현이 감지되었습니다」 알림 후 입력 취소.  
AF-2 스팸 감지 → 댓글 저장 거부, 사용자에게 경고.  
-------------------------------------------------------------------------------
Extensions:
Handle Profanity: 욕설 자동 마스킹 또는 입력 차단.  
Handle Spam: 동일 내용 반복 시 계정 제한.  
===============================================================================


===============================================================================
Use Case Name: Delete Own Photo
ID: UC-5
Importance Level: Medium
Primary Actor: 사진 업로더
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 사진 업로더: 본인이 올린 사진을 언제든 제거하고 싶다.
- 시스템 관리자: 삭제 로그를 법정 보관 기간 동안 유지하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사진 업로더가 자신의 사진을 삭제하면 DB에서 사진은 제거되고,
삭제 로그가 별도 테이블에 보관된다.
-------------------------------------------------------------------------------
Trigger:
사용자가 「내 사진 관리」에서 삭제 아이콘을 선택한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 사진 업로더
Include: Verify Ownership
Extend: Restore Deleted Photo
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 삭제하려는 사진을 선택한다.  
2. 시스템이 사진 소유자를 확인한다.  
3. 사용자가 삭제 확인을 누른다.  
4. 시스템이 사진 파일과 메타데이터를 삭제하고, 삭제 로그를 기록한다.  
5. UI에서 사진이 즉시 사라진다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 소유자 불일치 → 「삭제 권한이 없습니다」 알림 후 종료.  
AF-2 서버 오류 → 삭제 실패 메시지 후 재시도 옵션 제공.  
-------------------------------------------------------------------------------
Extensions:
Restore Deleted Photo: 관리자가 법정 기간 내 복구 요청 시 사진 복원.  
===============================================================================


===============================================================================
Use Case Name: Report Photo
ID: UC-6
Importance Level: Medium
Primary Actor: 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 잘못된 정보나 부적절한 사진을 신고하고 싶다.
- 시스템 관리자: 신고 누적 기준(30건) 초과 시 자동 비공개 처리하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 위치 오류·시간 오류·부적절성 이유로 사진을 신고한다.
신고가 30건 누적되면 사진이 자동으로 비공개 전환된다.
-------------------------------------------------------------------------------
Trigger:
사용자가 사진 상세 화면에서 「신고」 버튼을 누른다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 교내 구성원
Include: Verify Authentication
Extend: Auto-Hide Photo
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 신고 사유(위치, 시간, 부적절성)를 선택한다.  
2. 시스템이 해당 사용자 신고 여부를 검사한다.  
3. 신규 신고이면 신고 레코드를 DB에 저장한다.  
4. 시스템이 누적 신고 수를 확인한다.  
5. 신고 30건 이상이면 사진을 비공개로 전환하고 업로더에게 알림을 발송한다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 이미 신고함 → 「이미 신고하셨습니다」 알림 후 종료.  
AF-2 서버 오류 → 「신고 처리 실패」 메시지 후 재시도 제안.  
-------------------------------------------------------------------------------
Extensions:
Auto-Hide Photo: 관리자 패널에서 수동 공개/수정 기능 제공.  
===============================================================================


===============================================================================
Use Case Name: Request Route
ID: UC-7
Importance Level: High
Primary Actor: 사용자
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 사용자: 교내 최단 경로와 예상 시간을 정확히 알고 싶다.
- 시스템 관리자: 자체 경로·시간 데이터를 정확히 유지하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 출발·도착 건물을 선택하면 시스템이 자체 DB 기반 최단 경로와
예상 소요 시간을 계산하여 지도에 표시한다.
-------------------------------------------------------------------------------
Trigger:
사용자가 지도 화면에서 출발지와 도착지를 설정한다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 사용자
Include: Check GPS Permission
Extend: Handle No Route Found
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 출발·도착 건물을 선택한다.  
2. 시스템이 경로 데이터베이스에서 최단 경로를 계산한다.  
3. 시스템이 예상 소요 시간을 계산한다.  
4. 지도에 경로와 시간을 표시한다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 경로 없음 → 「경로를 찾을 수 없습니다」 알림 후 종료.  
AF-2 GPS 비활성 → GPS 활성 요청 다이얼로그 표시.  
-------------------------------------------------------------------------------
Extensions:
Handle No Route Found: 관리자에게 누락 경로 보고 옵션 제공.  
===============================================================================


===============================================================================
Use Case Name: Post to Anonymous Board
ID: UC-8
Importance Level: Medium
Primary Actor: 인증된 교내 구성원
Use Case Type: Detail, Essential
-------------------------------------------------------------------------------
Stakeholders and Interests:
- 교내 구성원: 익명으로 자유롭게 의견을 공유하고 싶다.
- 시스템 관리자: 게시물 품질을 유지하고 학내 규정을 준수하고 싶다.
-------------------------------------------------------------------------------
Brief Description:
사용자가 익명 게시판에 글을 작성·수정·삭제하며, 댓글·쪽지를 통한 소통이 가능하다.
-------------------------------------------------------------------------------
Trigger:
사용자가 메인 페이지에서 「게시판」 버튼을 누른다.
-------------------------------------------------------------------------------
Type: External
-------------------------------------------------------------------------------
Relationships:
Association: 인증된 교내 구성원
Include: Verify Authentication, Content Filter
Extend: Handle Offensive Post
Generalization:
-------------------------------------------------------------------------------
Normal Flow of Events:
1. 사용자가 게시글 작성 버튼을 누른다.  
2. 시스템이 사용자 인증을 확인한다.  
3. 사용자가 제목·본문을 입력한다.  
4. 시스템이 욕설·금칙어 필터링을 수행한다.  
5. 게시글이 DB에 저장되고 게시판 목록에 표시된다.  
-------------------------------------------------------------------------------
Sub Flows:
없음
-------------------------------------------------------------------------------
Alternate/Exceptional Flows:
AF-1 금칙어 포함 → 「부적절한 표현이 감지되었습니다」 알림 후 입력 취소.  
AF-2 서버 오류 → 「게시글 저장 실패」 메시지 후 재시도 안내.  
-------------------------------------------------------------------------------
Extensions:
Handle Offensive Post: 다수 신고 시 게시글 자동 숨김 및 관리자가 검토.  
===============================================================================
